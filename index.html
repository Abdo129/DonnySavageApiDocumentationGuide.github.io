<!DOCTYPE html>
<html lang="en">
<head>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Theme toggle functionality
            const currentTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', currentTheme);
            
            // Set initial icon based on theme
            const initialIcon = currentTheme === 'light' ? 'ðŸŒ™' : 'â˜€ï¸';
            document.getElementById('theme-toggle').innerHTML = initialIcon;
            
            document.getElementById('theme-toggle').addEventListener('click', () => {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                const newTheme = currentTheme === 'light' ? 'dark' : 'light';
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                
                // Update button icon
                const icon = newTheme === 'light' ? 'ðŸŒ™' : 'â˜€ï¸';
                document.getElementById('theme-toggle').innerHTML = icon;
            });
            
            // Format the date to be more readable
            function formatDate(dateString) {
                const date = new Date(dateString);
                if (isNaN(date)) return dateString; // Return original if invalid
                
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                return date.toLocaleDateString('en-US', options);
            }
            
            // Apply formatted date
            const dateElements = document.querySelectorAll('.formatted-date');
            dateElements.forEach(el => {
                el.textContent = formatDate(el.textContent);
            });
            
            // Endpoint navigation
            document.querySelectorAll('.endpoint-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = e.target.getAttribute('href').substring(1);
                    document.getElementById(targetId).scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                });
            });
        });
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DonnySavage Bot API Documentation</title>
    <style>
        :root {
            --primary: #5865F2;
            --primary-light: #7983f5;
            --primary-dark: #4752c4;
            --header-bg: #23272A;
            --header-text: #FFFFFF;
            --body-bg: #f9f9f9;
            --text: #2c3e50;
            --section-bg: #FFFFFF;
            --footer-text: #7f8c8d;
            --button-shadow: 0 4px 8px rgba(0,0,0,0.1);
            --border-radius: 10px;
            --code-bg: #f5f7ff;
            --endpoint-get: #10b981;
            --endpoint-post: #f59e0b;
            --endpoint-put: #3b82f6;
            --endpoint-delete: #ef4444;
        }

        [data-theme="dark"] {
            --primary: #7983f5;
            --primary-light: #9aa1f8;
            --primary-dark: #5e6ad0;
            --header-bg: #1a1d21;
            --header-text: #e3e5e8;
            --body-bg: #121416;
            --text: #e3e5e8;
            --section-bg: #1e2124;
            --footer-text: #a0a6ab;
            --button-shadow: 0 4px 8px rgba(0,0,0,0.3);
            --code-bg: #1e2230;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }
        
        body {
            background-color: var(--body-bg);
            color: var(--text);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.7;
            max-width: 1100px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }
        
        header {
            background: linear-gradient(135deg, var(--header-bg) 0%, #2c2f33 100%);
            color: var(--header-text);
            padding: 2.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 2.5rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 16px rgba(0,0,0,0.15);
        }
        
        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
        }
        
        h1 {
            color: var(--header-text);
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        
        .api-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .last-updated {
            background: rgba(255,255,255,0.1);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 1rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .last-updated::before {
            content: "ðŸ“…";
            font-size: 1.1em;
        }
        
        section {
            background: var(--section-bg);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            margin-bottom: 25px;
            border-left: 4px solid var(--primary);
        }
        
        section h2 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 1.8rem;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(88, 101, 242, 0.2);
        }
        
        h3 {
            color: var(--primary-light);
            margin: 20px 0 15px;
            font-size: 1.4rem;
        }
        
        h4 {
            margin: 15px 0 10px;
            font-size: 1.1rem;
            color: var(--primary-light);
        }
        
        ul {
            padding-left: 25px;
            margin: 15px 0;
        }
        
        li {
            margin-bottom: 12px;
            position: relative;
        }
        
        li::before {
            content: "â€¢";
            color: var(--primary);
            font-weight: bold;
            position: absolute;
            left: -20px;
        }
        
        code {
            background: var(--code-bg);
            color: var(--primary);
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }
        
        pre {
            background: var(--code-bg);
            padding: 15px;
            border-radius: var(--border-radius);
            overflow-x: auto;
            margin: 15px 0;
            line-height: 1.5;
        }
        
        pre code {
            background: none;
            padding: 0;
            color: var(--text);
        }
        
        a {
            color: var(--primary);
            text-decoration: none;
            position: relative;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        footer {
            color: var(--footer-text);
            text-align: center;
            margin-top: 3rem;
            padding-top: 20px;
            border-top: 1px solid rgba(127, 140, 141, 0.2);
            font-size: 1rem;
        }
        
        .theme-toggle {
            position: fixed;
            top: 25px;
            right: 25px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 55px;
            height: 55px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--button-shadow);
            font-size: 1.6rem;
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        .theme-toggle:hover {
            transform: scale(1.1);
            background: var(--primary-light);
            box-shadow: 0 6px 14px rgba(0,0,0,0.2);
        }
        
        .highlight {
            background: rgba(88, 101, 242, 0.1);
            padding: 3px 6px;
            border-radius: 4px;
            font-weight: 500;
        }
        
        .section-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .contact-methods {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 15px;
        }
        
        .contact-item {
            background: rgba(88, 101, 242, 0.1);
            border-radius: 8px;
            padding: 15px;
            flex: 1;
            min-width: 200px;
            text-align: center;
        }
        
        .endpoint-card {
            background: var(--section-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 25px;
            border-left: 4px solid var(--primary);
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }
        
        .endpoint-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(88, 101, 242, 0.2);
        }
        
        .endpoint-method {
            padding: 5px 12px;
            border-radius: 4px;
            font-weight: bold;
            margin-right: 15px;
            font-size: 0.9rem;
        }
        
        .method-get {
            background-color: rgba(16, 185, 129, 0.15);
            color: var(--endpoint-get);
        }
        
        .method-post {
            background-color: rgba(245, 158, 11, 0.15);
            color: var(--endpoint-post);
        }
        
        .method-put {
            background-color: rgba(59, 130, 246, 0.15);
            color: var(--endpoint-put);
        }
        
        .method-delete {
            background-color: rgba(239, 68, 68, 0.15);
            color: var(--endpoint-delete);
        }
        
        .endpoint-url {
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            flex-grow: 1;
        }
        
        .endpoint-description {
            margin-bottom: 15px;
        }
        
        .endpoint-response {
            margin: 15px 0;
        }
        
        .response-title {
            font-weight: bold;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }
        
        .response-title::before {
            content: "ðŸ“¤";
            margin-right: 8px;
        }
        
        .json-block {
            background: var(--code-bg);
            padding: 15px;
            border-radius: var(--border-radius);
            margin: 10px 0;
            overflow-x: auto;
        }
        
        .json-key {
            color: #e2777a;
        }
        
        .json-string {
            color: #7ec699;
        }
        
        .json-number {
            color: #f08d49;
        }
        
        .json-boolean {
            color: #cc99cd;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(88, 101, 242, 0.2);
        }
        
        .tab {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
        }
        
        .tab.active {
            border-bottom: 3px solid var(--primary);
            font-weight: bold;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .endpoint-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        .endpoint-table th, .endpoint-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid rgba(88, 101, 242, 0.1);
        }
        
        .endpoint-table th {
            background: rgba(88, 101, 242, 0.1);
            color: var(--primary);
            font-weight: bold;
        }
        
        .use-case-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .use-case-card {
            background: rgba(88, 101, 242, 0.05);
            border-radius: var(--border-radius);
            padding: 20px;
            border: 1px solid rgba(88, 101, 242, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .use-case-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }
        
        .use-case-card h4 {
            color: var(--primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .use-case-card h4::before {
            content: "ðŸ”¹";
            margin-right: 8px;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            
            header {
                padding: 1.8rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .api-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .theme-toggle {
                top: 15px;
                right: 15px;
                width: 45px;
                height: 45px;
                font-size: 1.4rem;
            }
            
            section {
                padding: 20px;
            }
            
            .endpoint-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .endpoint-method {
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <header>
        <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
            ðŸŒ™
        </button>
        
        <div class="api-header">
            <div>
                <h1>DonnySavage Bot API Documentation</h1>
                <p>Programmatic access to bot functionality and server data</p>
            </div>
            <div class="last-updated">
                <span class="formatted-date">2025-06-20</span>
            </div>
        </div>
    </header>
    
    <section id="introduction">
        <h2>Introduction</h2>
        <p>The DonnySavage Bot API provides secure, programmatic access to bot functionality and server data. This RESTful API allows developers to integrate bot features into their applications and services.</p>
        
        <div class="section-container">
            <div>
                <h3>API Base URL</h3>
                <pre><code>http://your-bot-ip:20166</code></pre>
            </div>
            
            <div>
                <h3>Authentication</h3>
                <p>All endpoints require API key authentication:</p>
                <pre><code>Authorization: Bearer YOUR_API_KEY</code></pre>
            </div>
        </div>
    </section>
    
    <section id="authentication">
        <h2>Authentication</h2>
        <p>API keys are managed through the bot's <code>/apikey</code> command and grant access to resources for a specific Discord server.</p>
        
        <div class="endpoint-card">
            <div class="endpoint-header">
                <div class="endpoint-method method-get">GET</div>
                <div class="endpoint-url">/api/secure-data</div>
            </div>
            
            <div class="endpoint-description">
                <p>Returns basic service information to verify authentication.</p>
            </div>
            
            <div class="endpoint-response">
                <div class="response-title">Response</div>
                <div class="json-block">
                    <pre><code>{
  <span class="json-key">"status"</span>: <span class="json-string">"success"</span>,
  <span class="json-key">"message"</span>: <span class="json-string">"Access granted to protected resource"</span>,
  <span class="json-key">"service"</span>: <span class="json-string">"Your Service Name"</span>,
  <span class="json-key">"guildId"</span>: <span class="json-string">"123456789012345678"</span>
}</code></pre>
                </div>
            </div>
        </div>
    </section>
    
    <section id="endpoints">
        <h2>API Endpoints</h2>
        
        <div class="tabs">
            <div class="tab active" data-tab="secure-data">Secure Data</div>
            <div class="tab" data-tab="bot-stats">Bot Stats</div>
            <div class="tab" data-tab="verify-member">Verify Member</div>
        </div>
        
        <div id="secure-data" class="tab-content active">
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <div class="endpoint-method method-get">GET</div>
                    <div class="endpoint-url">/api/secure-data</div>
                </div>
                
                <div class="endpoint-description">
                    <p>Returns basic service information to verify authentication.</p>
                </div>
                
                <div class="endpoint-response">
                    <div class="response-title">Response</div>
                    <div class="json-block">
                        <pre><code>{
  <span class="json-key">"status"</span>: <span class="json-string">"success"</span>,
  <span class="json-key">"message"</span>: <span class="json-string">"Access granted to protected resource"</span>,
  <span class="json-key">"service"</span>: <span class="json-string">"Your Service Name"</span>,
  <span class="json-key">"guildId"</span>: <span class="json-string">"123456789012345678"</span>
}</code></pre>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="bot-stats" class="tab-content">
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <div class="endpoint-method method-get">GET</div>
                    <div class="endpoint-url">/api/bot-stats</div>
                </div>
                
                <div class="endpoint-description">
                    <p>Returns real-time bot metrics.</p>
                </div>
                
                <div class="endpoint-response">
                    <div class="response-title">Response</div>
                    <div class="json-block">
                        <pre><code>{
  <span class="json-key">"guilds"</span>: <span class="json-number">127</span>,
  <span class="json-key">"users"</span>: <span class="json-number">38426</span>,
  <span class="json-key">"uptime"</span>: <span class="json-number">12345.67</span>
}</code></pre>
                    </div>
                    
                    <h4>Response Fields</h4>
                    <table class="endpoint-table">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>guilds</td>
                                <td>integer</td>
                                <td>Number of servers where bot is active</td>
                            </tr>
                            <tr>
                                <td>users</td>
                                <td>integer</td>
                                <td>Total unique users across servers</td>
                            </tr>
                            <tr>
                                <td>uptime</td>
                                <td>float</td>
                                <td>Bot uptime in seconds</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div id="verify-member" class="tab-content">
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <div class="endpoint-method method-post">POST</div>
                    <div class="endpoint-url">/api/verify-member</div>
                </div>
                
                <div class="endpoint-description">
                    <p>Checks if a user belongs to your server and returns member information.</p>
                    
                    <h4>Request Body</h4>
                    <div class="json-block">
                        <pre><code>{
  <span class="json-key">"userId"</span>: <span class="json-string">"987654321098765432"</span>
}</code></pre>
                    </div>
                </div>
                
                <div class="endpoint-response">
                    <div class="response-title">Response (Success)</div>
                    <div class="json-block">
                        <pre><code>{
  <span class="json-key">"id"</span>: <span class="json-string">"987654321098765432"</span>,
  <span class="json-key">"username"</span>: <span class="json-string">"DiscordUser"</span>,
  <span class="json-key">"discriminator"</span>: <span class="json-string">"1234"</span>,
  <span class="json-key">"avatar"</span>: <span class="json-string">"https://cdn.discordapp.com/avatars/..."</span>,
  <span class="json-key">"roles"</span>: [
    {
      <span class="json-key">"id"</span>: <span class="json-string">"112233445566778899"</span>,
      <span class="json-key">"name"</span>: <span class="json-string">"Member"</span>
    },
    {
      <span class="json-key">"id"</span>: <span class="json-string">"998877665544332211"</span>,
      <span class="json-key">"name"</span>: <span class="json-string">"Admin"</span>
    }
  ],
  <span class="json-key">"joinedAt"</span>: <span class="json-string">"2023-01-15T10:30:00.000Z"</span>
}</code></pre>
                    </div>
                    
                    <h4>Response (Errors)</h4>
                    <ul>
                        <li><code>400 Bad Request</code>: Invalid/missing userId</li>
                        <li><code>404 Not Found</code>: Guild or user not found</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    
    <section id="implementation">
        <h2>Implementation Examples</h2>
        
        <div class="tabs">
            <div class="tab active" data-tab="javascript">JavaScript</div>
            <div class="tab" data-tab="python">Python</div>
            <div class="tab" data-tab="curl">cURL</div>
        </div>
        
        <div id="javascript" class="tab-content active">
            <h3>JavaScript (Node.js)</h3>
            <pre><code>const verifyMember = async (userId) => {
  const response = await fetch('http://your-bot-ip:20166/api/verify-member', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer YOUR_API_KEY`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ userId })
  });

  if (!response.ok) {
    throw new Error(`API Error: ${response.status}`);
  }

  return await response.json();
};

// Usage
verifyMember('987654321098765432')
  .then(memberData => console.log('Member info:', memberData))
  .catch(error => console.error('Verification failed:', error));</code></pre>
        </div>
        
        <div id="python" class="tab-content">
            <h3>Python</h3>
            <pre><code>import requests

def get_bot_stats():
    response = requests.get(
        "http://your-bot-ip:20166/api/bot-stats",
        headers={"Authorization": "Bearer YOUR_API_KEY"}
    )
    response.raise_for_status()
    return response.json()

# Usage
stats = get_bot_stats()
print(f"Bot is in {stats['guilds']} servers with {stats['users']} users")</code></pre>
        </div>
        
        <div id="curl" class="tab-content">
            <h3>cURL</h3>
            <pre><code># Get secure data
curl -H "Authorization: Bearer YOUR_API_KEY" \
  http://your-bot-ip:20166/api/secure-data

# Verify member
curl -X POST -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -d '{"userId":"987654321098765432"}' \
  http://your-bot-ip:20166/api/verify-member</code></pre>
        </div>
    </section>
    
    <section id="usage">
        <h2>Usage Guidelines</h2>
        
        <div class="section-container">
            <div>
                <h3>Rate Limiting</h3>
                <p>Max <span class="highlight">20 requests</span> per <span class="highlight">15 minutes</span> per IP</p>
            </div>
            
            <div>
                <h3>Error Handling</h3>
                <ul>
                    <li><code>401 Unauthorized</code>: Invalid/missing API key</li>
                    <li><code>429 Too Many Requests</code>: Rate limit exceeded</li>
                    <li><code>500 Internal Server Error</code>: Bot/server issues</li>
                </ul>
            </div>
        </div>
        
        <h3>Security Recommendations</h3>
        <ul>
            <li>Always use HTTPS in production environments</li>
            <li>Never expose API keys in client-side code</li>
            <li>Rotate API keys periodically using the <code>/apikey</code> command</li>
            <li>Store API keys securely using environment variables</li>
        </ul>
    </section>
    
    <section id="use-cases">
        <h2>Use Case Examples</h2>
        
        <div class="use-case-grid">
            <div class="use-case-card">
                <h4>Web Dashboard Integration</h4>
                <p>Display server statistics on your community dashboard using the bot-stats endpoint.</p>
            </div>
            
            <div class="use-case-card">
                <h4>Role Gating</h4>
                <p>Restrict website access to server members using the verify-member endpoint.</p>
            </div>
            
            <div class="use-case-card">
                <h4>Custom Mod Tools</h4>
                <p>Build external moderation interfaces that integrate with your Discord server.</p>
            </div>
            
            <div class="use-case-card">
                <h4>Server Analytics</h4>
                <p>Track member growth and engagement over time using the bot API.</p>
            </div>
        </div>
    </section>
    
    <section id="support">
        <h2>Support & Contact</h2>
        <p>For API support, feature requests, or issues:</p>
        
        <div class="contact-methods">
            <div class="contact-item">
                <strong>In-app Command</strong>
                <p>Use <code>/report</code> command</p>
            </div>
            <div class="contact-item">
                <strong>Discord Support</strong>
                <p><a href="https://discord.gg/kRkkpWTCn7">Support Server</a></p>
            </div>
            <div class="contact-item">
                <strong>Email</strong>
                <p>donnysavagehelp@gmail.com</p>
            </div>
        </div>
    </section>
    
    <footer>
        <p>Â© 2024 DonnySavage Bot | API Version 1.0</p>
        <p>This document was last updated on <span class="formatted-date">2025-06-20</span></p>
    </footer>
    
    <script>
        // Tab functionality
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs
                document.querySelectorAll('.tab').forEach(t => {
                    t.classList.remove('active');
                });
                
                // Add active class to clicked tab
                tab.classList.add('active');
                
                // Hide all tab content
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                
                // Show target tab content
                const targetId = tab.getAttribute('data-tab');
                document.getElementById(targetId).classList.add('active');
            });
        });
    </script>
</body>
</html>
